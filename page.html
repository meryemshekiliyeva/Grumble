<!DOCTYPE html>
<html lang="az-az" class="fa-events-icons-ready">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Grumble">
    <meta name="msapplication-TileColor" content="#515bc3">
    <meta name="theme-color" content="#515bc3">
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/svgs/solid/building.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/svgs/solid/building.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/svgs/solid/building.svg">
    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/svgs/solid/building.svg">
    <link rel="manifest" href="#">
    <link rel="mask-icon" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/svgs/solid/building.svg" color="#515bc3">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ENjdO4Dr2bkBIFxQpeoA6VKHr8BLZ9g1l6lZ9g5lZ9g5lZ9g5lZ9g5lZ9g5lZ9g5" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="canonical" href="#">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/css/header-new.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/css/footer-new.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/css/custom.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/css/for-companies.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/css/errorlist.css">
    <title>Grumble - Müştəri rəyləri platforması</title>
    <meta name="description" content="Müştəri məmnuniyyətinin dəyərli olduğu bu məkanda öz təcrübənizi paylaşaraq rəyinizi bildirin, şikayətinizin həllini tapın!">
    <meta property="og:title" content="Grumble - Müştəri rəyləri platforması">
    <meta property="og:description" content="Müştəri məmnuniyyətinin dəyərli olduğu bu məkanda öz təcrübənizi paylaşaraq rəyinizi bildirin, şikayətinizin həllini tapın!">
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/logoSVG.png">
    <meta property="og:url" content="#">
    <meta property="og:site_name" content="Grumble">
    <link rel="alternate" href="#" hreflang="x-default">
    <link rel="alternate" href="#" hreflang="az-az">
    <link rel="alternate" href="#" hreflang="ru-ru">
    <style>
        body { 
            font-family: 'Roboto', sans-serif; 
            background: #fafbfc; 
            margin: 0;
            padding: 0;
        }
        
        /* Header Styles */
        #header {
            background: #fff;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header_wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }
        
        .menu_wrapper {
            display: flex;
            align-items: center;
            gap: 32px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: #515bc3;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .logo img {
            width: 32px;
            height: 32px;
        }
        
        .menu_links {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 24px;
        }
        
        .menu_links .link a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.2s;
        }
        
        .menu_links .link a:hover {
            color: #515bc3;
        }
        
        .search_form_wrapper {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .search_form {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .search_form input {
            width: 300px;
            padding: 8px 40px 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .btn_search {
            position: absolute;
            right: 8px;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .btn_search img {
            width: 16px;
            height: 16px;
        }
        
        .write-review-btn {
            background: #515bc3;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .write-review-btn svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }
        
        .login_wrapper {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .user_wrapper {
            display: flex;
            align-items: center;
            gap: 16px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .user-profile .btn_toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 6px;
            transition: background-color 0.2s;
        }
        
        .user-profile .btn_toggle:hover {
            background-color: #f5f5f5;
        }
        
        .user-profile .dp img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }
        
        .language_selection {
            position: relative;
        }
        
        .language_selection .title {
            background: none;
            border: 1px solid #ddd;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .lang_body {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: none;
            min-width: 60px;
        }
        
        .language_selection:hover .lang_body {
            display: block;
        }
        
        .lang_body a {
            display: block;
            padding: 8px 12px;
            text-decoration: none;
            color: #333;
            font-size: 14px;
        }
        
        .lang_body a:hover {
            background-color: #f5f5f5;
        }
        
        .ham-menu {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        /* Main Content Styles */
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 16px;
        }
        
        .breadcrumb { 
            margin: 24px 0; 
        }
        
        .breadcrumb ul { 
            list-style: none; 
            padding: 0; 
            display: flex; 
            gap: 8px; 
            align-items: center;
        }
        
        .breadcrumb a { 
            color: #515bc3; 
            text-decoration: none; 
        }
        
        .breadcrumb .current-page {
            color: #666;
        }
        
        /* Login/Registration Forms */
        .platform-info-for-companies {
            display: block;
        }
        
        .platform-info-for-companies.hidden {
            display: none;
        }
        
        .sign-in-about-platform {
            display: flex;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .form-container {
            background: #fff;
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            flex: 1;
        }
        
        .form-container h4 {
            color: #333;
            margin-bottom: 24px;
            font-weight: 600;
        }
        
        .email-field, .password-field, .firstname-field, .lastname-field, .company-name-field, .phone-field {
            margin-bottom: 20px;
            position: relative;
        }
        
        .email-field label, .password-field label, .firstname-field label, .lastname-field label, .company-name-field label, .phone-field label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        
        .email-field input, .password-field input, .firstname-field input, .lastname-field input, .company-name-field input, .phone-field input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s;
        }
        
        .email-field input:focus, .password-field input:focus, .firstname-field input:focus, .lastname-field input:focus, .company-name-field input:focus, .phone-field input:focus {
            outline: none;
            border-color: #515bc3;
            box-shadow: 0 0 0 3px rgba(81, 91, 195, 0.1);
        }
        
        .hide-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            width: 20px;
            height: 20px;
        }
        
        .password-field {
            position: relative;
        }
        
        .forgot-password {
            text-align: right;
            margin-bottom: 20px;
        }
        
        .forgot-password a {
            color: #515bc3;
            text-decoration: none;
            font-size: 14px;
        }
        
        .form-container button[type="submit"] {
            width: 100%;
            background: #515bc3;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .form-container button[type="submit"]:hover {
            background: #4147a3;
        }
        
        .about-platform {
            flex: 1;
            padding: 32px;
        }
        
        .about-platform h3 {
            color: #333;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .about-platform h3 span {
            color: #515bc3;
        }
        
        .about-platform p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 16px;
        }
        
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 8px;
            display: none;
        }
        
        .inputs-wrapper {
            display: flex;
            gap: 8px;
        }
        
        .inputs-wrapper input:first-child {
            width: 80px;
            background: #f8f9fa;
        }
        
        .inputs-wrapper input:last-child {
            flex: 1;
        }

        /* Bank Dashboard Styles */
        .bank-info-card {
            background: #fff;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid #f0f0f0;
            text-align: center;
        }

        .bank-logo {
            margin-bottom: 16px;
        }

        .bank-logo img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 8px;
            background: #f8f9fa;
            padding: 8px;
        }

        .bank-info-card h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .bank-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #515bc3;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .bank-rating {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding-top: 16px;
            border-top: 1px solid #f0f0f0;
        }

        .rating-number {
            font-size: 1.2rem;
            font-weight: bold;
            color: #515bc3;
        }

        .reviews-section {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid #f0f0f0;
            overflow: hidden;
        }

        .section-header {
            padding: 24px 24px 0 24px;
            border-bottom: 1px solid #f0f0f0;
        }

        .section-header h2 {
            color: #333;
            margin-bottom: 16px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .review-tabs {
            display: flex;
            gap: 0;
            margin-bottom: 0;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 12px 24px;
            color: #666;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab-btn.active {
            color: #515bc3;
            border-bottom-color: #515bc3;
        }

        .tab-btn:hover {
            color: #515bc3;
        }

        .tab-content {
            display: none;
            padding: 24px;
        }

        .tab-content.active {
            display: block;
        }

        .reviews-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .review-item {
            border: 1px solid #f0f0f0;
            border-radius: 8px;
            padding: 20px;
            background: #fafbfc;
        }

        .review-item.pending {
            border-left: 4px solid #ffc107;
        }

        .review-item.answered {
            border-left: 4px solid #28a745;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .customer-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .customer-avatar img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }

        .customer-details h4 {
            color: #333;
            margin-bottom: 4px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .review-rating {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .rating-text {
            font-weight: 500;
            color: #666;
        }

        .review-date {
            text-align: right;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .review-date span:first-child {
            color: #666;
            font-size: 0.9rem;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-badge.pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.answered {
            background: #d4edda;
            color: #155724;
        }

        .review-content {
            margin-bottom: 16px;
        }

        .review-content p {
            color: #333;
            line-height: 1.6;
            margin: 0;
        }

        .review-actions {
            display: flex;
            gap: 12px;
        }

        .btn-reply, .btn-view-details {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-reply {
            background: #515bc3;
            color: white;
        }

        .btn-reply:hover {
            background: #4147a3;
            transform: translateY(-1px);
        }

        .btn-view-details {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #e9ecef;
        }

        .btn-view-details:hover {
            background: #e9ecef;
            color: #333;
        }

        .bank-reply {
            margin-top: 16px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #515bc3;
        }

        .reply-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .bank-logo-small {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }

        .bank-name {
            font-weight: 600;
            color: #515bc3;
        }

        .reply-date {
            color: #666;
            font-size: 0.9rem;
            margin-left: auto;
        }

        .reply-content p {
            color: #333;
            line-height: 1.6;
            margin: 0;
            font-style: italic;
        }
        /* Company Dashboard Styles */
        .company-dashboard {
            display: none;
        }

        .company-dashboard.active {
            display: block !important;
        }

        .welcome-section {
            background: linear-gradient(135deg, #515bc3, #6366f1);
            color: white;
            padding: 32px;
            border-radius: 12px;
            margin-bottom: 32px;
            text-align: center;
        }

        .welcome-section h1 {
            font-size: 2rem;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .welcome-section p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 24px;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.2s;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .company-list a.company-wrapper {
            display: block;
            margin-bottom: 16px;
            text-decoration: none;
            color: inherit;
            transition: transform 0.2s;
        }

        .company-list a.company-wrapper:hover {
            transform: translateY(-2px);
        }

        .company {
            display: flex;
            align-items: center;
            padding: 20px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid #f0f0f0;
        }

        .company-logo {
            margin-right: 16px;
        }

        .company-logo img {
            width: 64px;
            height: 64px;
            object-fit: contain;
            border-radius: 8px;
            background: #f8f9fa;
            padding: 8px;
        }

        .company-info {
            flex: 1;
        }

        .company-name h5 {
            margin: 0 0 8px 0;
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
        }

        .stars {
            display: flex;
            align-items: center;
            gap: 2px;
            margin-bottom: 8px;
        }

        .stars .star {
            width: 16px;
            height: 16px;
            color: #ffc107;
        }

        .stars .star.empty {
            color: #e9ecef;
        }

        .star-rating__result {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .star-rating__result span {
            font-weight: bold;
            color: #515bc3;
            font-size: 1.1rem;
        }

        .company-title {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 4px;
        }

        .company-stats {
            font-size: 0.9rem;
            color: #888;
        }

        .categories {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid #f0f0f0;
        }

        .categories h5 {
            font-size: 1.1rem;
            margin-bottom: 16px;
            font-weight: 600;
            color: #333;
        }

        .categories ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .categories .result {
            margin-bottom: 8px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: background-color 0.2s;
            color: #555;
        }

        .categories .result:hover {
            background-color: #f8f9fa;
            color: #515bc3;
        }

        .categories .result.active {
            background-color: #515bc3;
            color: white;
        }

        .filter-sort {
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .filter-sort h1 {
            font-size: 1.8rem;
            margin: 0;
            color: #333;
            font-weight: 700;
        }

        .sort {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sort span {
            color: #666;
            font-weight: 500;
        }

        .form-select {
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 6px 12px;
            font-size: 14px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header_wrapper {
                flex-wrap: wrap;
                gap: 16px;
            }

            .search_form input {
                width: 200px;
            }

            .menu_links {
                display: none;
            }

            .ham-menu {
                display: block;
            }

            .company {
                flex-direction: column;
                align-items: flex-start;
                text-align: left;
            }

            .company-logo {
                margin-right: 0;
                margin-bottom: 16px;
            }

            .filter-sort {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .sign-in-about-platform {
                flex-direction: column;
                gap: 20px;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 0 12px;
            }

            .welcome-section {
                padding: 24px 16px;
            }

            .welcome-section h1 {
                font-size: 1.5rem;
            }

            .categories {
                padding: 16px;
            }

            .company {
                padding: 16px;
            }

            .form-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
<header id="header">
    <div class="mob-overlay"></div>
    <div class="container">
        <div class="header_wrapper">
            <div class="menu_wrapper">
                <a href="#" class="logo">
                    <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/grumble-logo.svg" alt="Grumble logo">
                </a>
                <ul class="menu_links">
                    <li class="link"><a href="#">Rəylər</a></li>
                    <li class="link"><a href="#">Şirkətlər</a></li>
                </ul>
            </div>
            <div class="search_form_wrapper">
                <form action="#" id="search_form" class="search_form">
                    <input id="search-input" type="text" autocomplete="off" name="q" value="" placeholder="Kateqoriya və ya şirkət axtar">
                    <button type="submit" class="btn_search">
                        <img class="v-desktop" src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/loupe.svg" alt="loupe.svg">
                        <img class="v-mob" src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/loupe-purple.svg" alt="loupe-purple.svg">
                    </button>
                    <div class="search-dropdown">
                        <ul></ul>
                    </div>
                </form>
                <button id="write-review-btn" class="write-review-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"></path>
                    </svg>
                </button>
                <div class="search-button">
                    <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/loupe.svg" alt="loupe.svg" class="active">
                    <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/loupe-purple.svg" alt="loupe-purple.svg">
                </div>
            </div>
            <div class="login_wrapper" id="loginWrapper">
                <a href="#" class="btn_login">Rəy Bildir</a>
                <a href="#" class="link">Şirkətlər üçün</a>
                <div class="language_selection">
                    <button class="title">AZ</button>
                    <div class="lang_body">
                        <a href="#">AZ</a>
                        <a href="#">RU</a>
                    </div>
                </div>
            </div>
            <ul class="user_wrapper" id="userWrapper" style="display: none;">
                <li class="user-profile">
                    <button class="btn_toggle user" id="userProfileBtn">
                        <div class="dp">
                            <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="user-profile-img-placeholder-light">
                        </div>
                        <p id="companyNameDisplay"></p>
                    </button>
                    <div class="dropdown" id="userDropdown" style="display: none; position: absolute; top: 100%; right: 0; background: white; border: 1px solid #ddd; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 180px; z-index: 1000;">
                        <a href="#" style="display: block; padding: 12px 16px; text-decoration: none; color: #333; border-bottom: 1px solid #f0f0f0;">Profil</a>
                        <a href="#" style="display: block; padding: 12px 16px; text-decoration: none; color: #333; border-bottom: 1px solid #f0f0f0;">Parametrlər</a>
                        <a href="#" id="logoutBtn" style="display: block; padding: 12px 16px; text-decoration: none; color: #dc3545;">Çıxış</a>
                    </div>
                </li>
                <li class="write_review">
                    <a href="#" class="btn_write_review" style="background: #515bc3; color: white; padding: 8px 16px; border-radius: 6px; text-decoration: none;">Rəy Bildir</a>
                </li>
            </ul>
            <button class="ham-menu">
                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/open-menu.svg" alt="open-menu.svg">
            </button>
            <div class="mobile-menu-wrapper">
                <ul class="mobile-menu">
                    <button class="btn_close">
                        <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/close-icon-blue.svg" alt="close-icon-blue.svg">
                    </button>
                    <li class="login-links" id="mobileLoginLinks">
                        <a href="#">Daxil ol</a>
                        <a href="#">Şirkətlər üçün</a>
                    </li>
                    <li class="user-links" id="mobileUserLinks" style="display: none;">
                        <button class="btn_toggle user">
                            <div class="dp">
                                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="user-profile-img-placeholder-light.svg">
                            </div>
                            <p id="mobileCompanyName"></p>
                        </button>
                        <div class="dropdown"></div>
                    </li>
                    <li>
                        <a href="#">Rəy bildir</a>
                    </li>
                    <li>
                        <a href="#">Şirkətlər</a>
                        <a href="#">Rəylər</a>
                        <a href="#">Bloqlar</a>
                    </li>
                    <li>
                        <div class="language_selection">
                            <button class="title">AZ</button>
                            <div class="lang_body">
                                <a href="#">AZ</a>
                                <a href="#">RU</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</header>
<main>
    <div class="container">
        <section class="breadcrumb">
            <ul>
                <li><a href="#">Ana Səhifə</a></li>
                <li class="current-page"><div class="truncate" id="breadcrumbTitle">Şirkətlər üçün</div></li>
            </ul>
        </section>

        <!-- Login/Registration Section -->
        <section class="platform-info-for-companies" id="loginSection">
            <article class="sign-in-about-platform">
                <section class="form-container">
                    <h4>Şirkət olaraq daxil ol</h4>
                    <form action="javascript:void(0)" id="company-sign-in" method="post" onsubmit="return false;">
                        <input type="hidden" name="csrfmiddlewaretoken" value="">
                        <section class="email-field">
                            <input type="email" name="username" id="company-sign-in-email" placeholder="Email*" maxlength="255" required="">
                            <label for="company-sign-in-email">Email*</label>
                            <div id="company-sign-in-email-constraints"></div>
                        </section>
                        <section class="password-field">
                            <input type="password" name="password" id="signin-password" placeholder="Şifrə*" autocomplete="on" aria-describedby="password-constraints" required="">
                            <label for="signin-password">Şifrə*</label>
                            <div id="password-constraints"></div>
                            <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/hide-icon.svg" alt="hide icon" class="hide-icon" onclick="togglePassword('signin-password')">
                        </section>
                        <section class="forgot-password">
                            <a href="#">Şifrəmi unutmuşam</a>
                        </section>
                        <div style="background: #f8f9fa; padding: 12px; border-radius: 6px; margin: 12px 0; border-left: 4px solid #28a745;">
                            <h5 style="color: #28a745; font-size: 0.9rem; margin-bottom: 8px;">Test Bank Accounts:</h5>
                            <p style="color: #666; font-size: 0.8rem; margin: 4px 0;"><strong>Kapital Bank:</strong> kapital@bank.az / Kapital123!</p>
                            <p style="color: #666; font-size: 0.8rem; margin: 4px 0;"><strong>Pasha Bank:</strong> pasha@bank.az / Pasha123!</p>
                            <p style="color: #666; font-size: 0.8rem; margin: 4px 0;"><strong>BirBank:</strong> bir@bank.az / BirBank123!</p>
                        </div>
                        <button type="button" onclick="handleBankLogin(event)" name="company-login" style="background: #515bc3; color: white; border: none; padding: 12px 24px; border-radius: 6px; width: 100%; cursor: pointer; font-weight: 600;">Daxil ol</button>
                        <button type="button" onclick="directBankLogin()" style="background: #6f42c1; color: white; border: none; padding: 12px 24px; border-radius: 6px; width: 100%; cursor: pointer; font-weight: 600; margin-top: 8px;">Alternativ Giriş</button>
                        <div style="margin-top: 12px; padding: 12px; background: #fff3cd; border-radius: 6px; border-left: 4px solid #ffc107;">
                            <p style="color: #856404; font-size: 0.9rem; margin: 0; font-weight: 500;">⚠️ Əgər "hazır deyil" xətası alırsınızsa, "Alternativ Giriş" və ya test düymələrindən istifadə edin:</p>
                        </div>
                        <button type="button" onclick="testBankLogin()" style="background: #dc3545; color: white; border: none; padding: 12px 24px; border-radius: 6px; margin-top: 8px; width: 100%; cursor: pointer;">Test Bank Dashboard</button>
                        <button type="button" onclick="testCompanyRegistration()" style="background: #28a745; color: white; border: none; padding: 12px 24px; border-radius: 6px; margin-top: 8px; width: 100%; cursor: pointer;">Test Company Registration</button>
                    </form>
                </section>
                <section class="about-platform">
                    <h3>
                        Şirkətinizi <span>Grumble</span>-a əlavə
                        etməklə, yeni rəylər barədə bildirişlər alaraq
                        müştərilərlə ünsiyyət qurun.
                    </h3>
                    <p>Bu platforma Sizinlə və Müştərilər arasında körpü yaradaraq, cari istehlakçı rəylərini dinləyib verəcəyiniz çevik reaksiya əsasında potensial müştərilər qazanmağa kömək edir.</p>
                    <p>İnkişaf edən biznes dünyasında artan rəqabət müştərinin qorunub saxlanılmasını şərtləndirməklə müştəri loyalığına müsbət təsir edir.</p>
                </section>
            </article>
            <article class="platform-advantages-sign-up">
                <section class="platform-advantages">
                    <h3>Platformanın imkanları</h3>
                    <div class="advantages-container">
                        <div class="advantage">
                            <h6>Şirkətin rəsmi səhifəsinin yaradılması</h6>
                            <p>Öz brend səhifənizi yaradaraq, şirkətiniz haqqında ətraflı məlumat daxil edib profilinizi idarə edə və Sizə aid rəyləri görə bilərsiniz</p>
                        </div>
                        <div class="advantage">
                            <h6>Şirkət adından rəsmi cavablama</h6>
                            <p>Brendiniz adından müştəri şikayətlərinə zamanında cavab verərək rəğbət qazanıb gündəmdə qala bilərsiniz</p>
                        </div>
                        <div class="advantage">
                            <h6>Rəqəmsal marketing alətləri</h6>
                            <p>Müxtəlif marketing həllərdən istifadə edərək brendinizi inkişaf edə bilərsiniz</p>
                        </div>
                        <div class="advantage">
                            <h6>Rəylər haqqında bildiriş sistemi</h6>
                            <p>Müxtəlif  kanallarla bildirişlər alaraq, şikayət və rəylərə dərhal reaksiya göstərə bilərsiniz</p>
                        </div>
                        <div class="advantage">
                            <h6>Sosial müştəri xidməti imkanları</h6>
                            <p>Grumble sizin yeni sosial müştəri xidməti platformanızdır</p>
                        </div>
                    </div>
                </section>
                <section class="form-container">
                    <h4>Şirkəti əlavə etmək üçün formu doldurun</h4>
                    <form action="#" id="company-sign-up" method="post">
                        <input type="hidden" name="csrfmiddlewaretoken" value="">
                        <section class="firstname-field">
                            <label for="firstname">Ad*</label>
                            <input type="text" name="name" id="firstname" placeholder="Ad" class="company_sign_up_pop_up_input" maxlength="50" required="">
                            <div id="firstname-constraints"></div>
                        </section>
                        <section class="lastname-field">
                            <label for="lastname">Soyad*</label>
                            <input type="text" name="surname" id="lastname" placeholder="Soyad" class="company_sign_up_pop_up_input" maxlength="50" required="">
                            <div id="lastname-constraints"></div>
                        </section>
                        <section class="company-name-field">
                            <label for="company-name">Şirkətin adı*</label>
                            <input type="text" name="company_name" id="company-name" placeholder="Şirkətin | Brendin adı" class="company_sign_up_pop_up_input" maxlength="255" required="">
                            <div id="company-name-constraints"></div>
                        </section>
                        <section class="phone-field">
                            <label for="phone">Əlaqə nömrəsi*</label>
                            <div class="inputs-wrapper">
                                <input type="text" name="country-code" id="country-code" placeholder="+994" disabled="">
                                <input type="text" name="contact_number" id="phone" placeholder="123456789" pattern="^(\+|\d)[0-9]{,9}$" aria-errormessage="phone-constraints" aria-invalid="false" required="">
                            </div>
                            <div id="phone-constraints"></div>
                        </section>
                        <section class="email-field">
                            <label for="signup-email">Email*</label>
                            <input type="email" name="email" id="signup-email" placeholder="info@shirket.az" class="company_sign_up_pop_up_input" maxlength="255" required="">
                            <div id="company-sign-up-email-constraints"></div>
                        </section>
                        <!-- NEW PASSWORD FIELDS -->
                        <section class="password-field">
                            <label for="signup-password">Şifrə*</label>
                            <input type="password" name="password" id="signup-password" placeholder="Şifrə*" autocomplete="new-password" required="">
                            <div id="signup-password-constraints"></div>
                            <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/hide-icon.svg" alt="hide icon" class="hide-icon" onclick="togglePassword('signup-password')">
                        </section>
                        <section class="password-field">
                            <label for="confirm-password">Şifrəni təsdiq edin*</label>
                            <input type="password" name="confirm_password" id="confirm-password" placeholder="Şifrəni təsdiq edin*" autocomplete="new-password" required="">
                            <div id="confirm-password-constraints" class="error-message"></div>
                            <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/hide-icon.svg" alt="hide icon" class="hide-icon" onclick="togglePassword('confirm-password')">
                        </section>
                        <div style="background: #e8f5e8; padding: 12px; border-radius: 6px; margin: 12px 0; border-left: 4px solid #28a745;">
                            <h5 style="color: #28a745; font-size: 0.9rem; margin-bottom: 8px;">Test Registration:</h5>
                            <p style="color: #666; font-size: 0.8rem; margin: 4px 0;"><strong>Sample Password:</strong> Test123!</p>
                            <p style="color: #666; font-size: 0.8rem; margin: 4px 0;">Or click the green "Test Company Registration" button below</p>
                        </div>
                        <button type="submit" name="company-request" formnovalidate="">Göndər</button>
                    </form>
                </section>
            </article>
        </section>

        <!-- Company Dashboard Section -->
        <section class="company-dashboard" id="companyDashboard">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <h1>Xoş gəlmisiniz, <span id="welcomeCompanyName"></span>!</h1>
                <p>Şirkət panelinizə xoş gəlmisiniz. Burada müştəri rəylərini idarə edə və şirkətinizin reputasiyasını yaxşılaşdıra bilərsiniz.</p>
                <a href="#" class="logout-btn" id="logoutBtnMain">Çıxış</a>
            </section>

            <!-- Bank Dashboard Section -->
            <div class="row">
                <!-- Bank Info Card -->
                <div class="col-md-4 mb-4">
                    <div class="bank-info-card">
                        <div class="bank-logo">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Kapital_Bank_logo.svg" alt="Kapital Bank" id="bankLogo">
                        </div>
                        <h3 id="bankName">Kapital Bank</h3>
                        <div class="bank-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="totalReviews">189</span>
                                <span class="stat-label">Ümumi Rəylər</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="pendingReviews">33</span>
                                <span class="stat-label">Gözləyən</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="answeredReviews">156</span>
                                <span class="stat-label">Cavablanmış</span>
                            </div>
                        </div>
                        <div class="bank-rating">
                            <div class="stars" data-rating="4.2">
                                <i class="fas fa-star star"></i>
                                <i class="fas fa-star star"></i>
                                <i class="fas fa-star star"></i>
                                <i class="fas fa-star star"></i>
                                <i class="far fa-star star empty"></i>
                            </div>
                            <span class="rating-number">4.2</span>
                        </div>
                    </div>
                </div>

                <!-- Reviews Management -->
                <div class="col-md-8">
                    <div class="reviews-section">
                        <div class="section-header">
                            <h2>Mənim Rəylərim</h2>
                            <div class="review-tabs">
                                <button class="tab-btn active" data-tab="pending">Gözləyən (33)</button>
                                <button class="tab-btn" data-tab="answered">Cavablanmış (156)</button>
                            </div>
                        </div>

                        <!-- Pending Reviews Tab -->
                        <div class="tab-content active" id="pending-tab">
                            <div class="reviews-list">
                                <!-- Review Item 1 -->
                                <div class="review-item pending">
                                    <div class="review-header">
                                        <div class="customer-info">
                                            <div class="customer-avatar">
                                                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="Customer">
                                            </div>
                                            <div class="customer-details">
                                                <h4>Əli Məmmədov</h4>
                                                <div class="review-rating">
                                                    <div class="stars" data-rating="2">
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="far fa-star star empty"></i>
                                                        <i class="far fa-star star empty"></i>
                                                        <i class="far fa-star star empty"></i>
                                                    </div>
                                                    <span class="rating-text">2.0</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="review-date">
                                            <span>2 gün əvvəl</span>
                                            <span class="status-badge pending">Gözləyir</span>
                                        </div>
                                    </div>
                                    <div class="review-content">
                                        <p>Kartımı itirdim və yeni kart sifarişi verdim. Artıq 10 gündür gözləyirəm, hələ də kart gəlməyib. Müştəri xidmətləri də çox yavaş cavab verir.</p>
                                    </div>
                                    <div class="review-actions">
                                        <button class="btn-reply" onclick="openReplyModal(1)">Cavab Ver</button>
                                        <button class="btn-view-details" onclick="viewReviewDetails(1)">Ətraflı</button>
                                    </div>
                                </div>

                                <!-- Review Item 2 -->
                                <div class="review-item pending">
                                    <div class="review-header">
                                        <div class="customer-info">
                                            <div class="customer-avatar">
                                                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="Customer">
                                            </div>
                                            <div class="customer-details">
                                                <h4>Leyla Həsənova</h4>
                                                <div class="review-rating">
                                                    <div class="stars" data-rating="1">
                                                        <i class="fas fa-star star"></i>
                                                        <i class="far fa-star star empty"></i>
                                                        <i class="far fa-star star empty"></i>
                                                        <i class="far fa-star star empty"></i>
                                                        <i class="far fa-star star empty"></i>
                                                    </div>
                                                    <span class="rating-text">1.0</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="review-date">
                                            <span>1 həftə əvvəl</span>
                                            <span class="status-badge pending">Gözləyir</span>
                                        </div>
                                    </div>
                                    <div class="review-content">
                                        <p>Mobil bankçılıq tətbiqi çox yavaş işləyir. Pul köçürmələri çox vaxt alır və bəzən xəta verir. Bu problem artıq 1 aydır davam edir.</p>
                                    </div>
                                    <div class="review-actions">
                                        <button class="btn-reply" onclick="openReplyModal(2)">Cavab Ver</button>
                                        <button class="btn-view-details" onclick="viewReviewDetails(2)">Ətraflı</button>
                                    </div>
                                </div>

                                <!-- Review Item 3 -->
                                <div class="review-item pending">
                                    <div class="review-header">
                                        <div class="customer-info">
                                            <div class="customer-avatar">
                                                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="Customer">
                                            </div>
                                            <div class="customer-details">
                                                <h4>Rəşad Quliyev</h4>
                                                <div class="review-rating">
                                                    <div class="stars" data-rating="3">
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="far fa-star star empty"></i>
                                                        <i class="far fa-star star empty"></i>
                                                    </div>
                                                    <span class="rating-text">3.0</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="review-date">
                                            <span>3 gün əvvəl</span>
                                            <span class="status-badge pending">Gözləyir</span>
                                        </div>
                                    </div>
                                    <div class="review-content">
                                        <p>Filialda növbə çox uzun olur. Xüsusilə səhər saatlarında çox sıxlıq olur. Daha çox işçi olsa yaxşı olar.</p>
                                    </div>
                                    <div class="review-actions">
                                        <button class="btn-reply" onclick="openReplyModal(3)">Cavab Ver</button>
                                        <button class="btn-view-details" onclick="viewReviewDetails(3)">Ətraflı</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Answered Reviews Tab -->
                        <div class="tab-content" id="answered-tab">
                            <div class="reviews-list">
                                <!-- Answered Review Item 1 -->
                                <div class="review-item answered">
                                    <div class="review-header">
                                        <div class="customer-info">
                                            <div class="customer-avatar">
                                                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="Customer">
                                            </div>
                                            <div class="customer-details">
                                                <h4>Nigar Əliyeva</h4>
                                                <div class="review-rating">
                                                    <div class="stars" data-rating="5">
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                    </div>
                                                    <span class="rating-text">5.0</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="review-date">
                                            <span>1 həftə əvvəl</span>
                                            <span class="status-badge answered">Cavablanıb</span>
                                        </div>
                                    </div>
                                    <div class="review-content">
                                        <p>Çox yaxşı xidmət. Müştəri xidmətləri çox peşəkar və köməkçi idi. Problemim tez həll olundu.</p>
                                    </div>
                                    <div class="bank-reply">
                                        <div class="reply-header">
                                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Kapital_Bank_logo.svg" alt="Kapital Bank" class="bank-logo-small">
                                            <span class="bank-name">Kapital Bank</span>
                                            <span class="reply-date">6 gün əvvəl</span>
                                        </div>
                                        <div class="reply-content">
                                            <p>Hörmətli Nigar xanım, müsbət rəyiniz üçün təşəkkür edirik! Müştərilərimizin məmnuniyyəti bizim üçün ən vacib məsələdir. Gələcəkdə də sizə keyfiyyətli xidmət göstərməyə davam edəcəyik.</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Answered Review Item 2 -->
                                <div class="review-item answered">
                                    <div class="review-header">
                                        <div class="customer-info">
                                            <div class="customer-avatar">
                                                <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/user-profile-img-placeholder-light.svg" alt="Customer">
                                            </div>
                                            <div class="customer-details">
                                                <h4>Elçin Məmmədov</h4>
                                                <div class="review-rating">
                                                    <div class="stars" data-rating="4">
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="fas fa-star star"></i>
                                                        <i class="far fa-star star empty"></i>
                                                    </div>
                                                    <span class="rating-text">4.0</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="review-date">
                                            <span>2 həftə əvvəl</span>
                                            <span class="status-badge answered">Cavablanıb</span>
                                        </div>
                                    </div>
                                    <div class="review-content">
                                        <p>Kredit müraciətim tez baxıldı və təsdiqləndi. Prosedur çox sadə idi. Təşəkkür edirəm.</p>
                                    </div>
                                    <div class="bank-reply">
                                        <div class="reply-header">
                                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Kapital_Bank_logo.svg" alt="Kapital Bank" class="bank-logo-small">
                                            <span class="bank-name">Kapital Bank</span>
                                            <span class="reply-date">2 həftə əvvəl</span>
                                        </div>
                                        <div class="reply-content">
                                            <p>Hörmətli Elçin bəy, bizə etibar etdiyiniz üçün təşəkkür edirik. Kredit xidmətlərimizdən məmnun qaldığınıza şadıq. Hər zaman xidmətinizdəyik!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
<footer id="footer">
    <div class="container">
        <div class="footer_menu_wrapper">
            <div class="footer_menu">
                <div class="ft_links">
                    <a href="#" class="ft_link">Şirkətlər</a>
                    <a href="#" class="ft_link">Rəylər</a>
                    <a href="#" class="ft_link">Şikayətlər</a>
                    <a href="#" class="ft_link">Daxil ol</a>
                    <a href="#" class="ft_link">Şirkətlər üçün</a>
                </div>
                <div class="ft_links">
                    <a href="#" class="ft_link">Haqqımızda</a>
                    <a href="#" class="ft_link">Bloqlar</a>
                    <a href="#" class="ft_link">Tez-tez verilən suallar</a>
                    <a href="#" class="ft_link">Qaydalar</a>
                    <a href="#" class="ft_link">Məxfilik siyasəti</a>
                </div>
                <div class="ft_links">
                    <a href="tel:MRP LLC VOEN: 1308583041" class="ft_link">MRP LLC VOEN: 1308583041</a>
                    <a href="mailto:info@grumble.az" class="ft_link">info@grumble.az</a>
                </div>
            </div>
            <div class="social_links">
                <a target="_blank" href="#"><i class="fa fa-facebook"></i></a>
                <a target="_blank" href="#"><i class="fa fa-instagram"></i></a>
                <a target="_blank" href="#"><i class="fa fa-linkedin"></i></a>
                <a target="_blank" href="#"><svg height="15" width="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g><path fill="#fff" d="m470.4354553 45.4225006-453.6081524 175.8265381c-18.253809 8.1874695-24.4278889 24.5854034-4.4127407 33.4840851l116.3710175 37.1726685 281.3674316-174.789505c15.3625488-10.9733887 31.0910339-8.0470886 17.5573425 4.023468l-241.6571311 219.9348907-7.5913849 93.0762329c7.0313721 14.3716125 19.9055786 14.4378967 28.1172485 7.2952881l66.8582916-63.5891418 114.5050659 86.1867065c26.5942688 15.8265076 41.0652466 5.6130371 46.7870789-23.3935242l75.1055603-357.4697647c7.7979126-35.7059288-5.5005798-51.437891-39.3996277-37.7579422z"></path></g></svg></a>
            </div>
        </div>
    </div>
    <div class="footer_bottom">
        <div class="container">
            <div class="f_wrapper">
                <div class="f_logo">
                    <img src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/grumble-logo.svg" alt="grumble.az">
                </div>
                <p class="f_copyright"><script>document.write(new Date().getFullYear());</script> © grumble.az</p>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js" integrity="sha256-3gJwYp4gk1bZQzQ0jrISFRCGDpa2BkLomPvKg3r+7E0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-qQ2oNcamzatoorktrENcGukdxbYlR5c+3F4iAfDdc/K1Ji/7luWGINuD/R7/UZ5E" crossorigin="anonymous"></script>
<script type="module" src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/js/app.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/js/fetch-companies-categories.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/js/for-companies.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/js/alerts.js"></script>

<script>
// Immediately prevent any external form handling
document.addEventListener('DOMContentLoaded', function() {
    // Override any existing form submission handlers
    const companyForm = document.getElementById('company-sign-in');
    if (companyForm) {
        // Remove all existing event listeners by cloning the form
        const newForm = companyForm.cloneNode(true);
        companyForm.parentNode.replaceChild(newForm, companyForm);

        // Prevent any form submission
        newForm.addEventListener('submit', function(e) {
            e.preventDefault();
            e.stopPropagation();
            console.log('Form submission prevented - using custom handler');
            return false;
        });

        console.log('Form submission handlers overridden');
    }
});

// Bank Dashboard System - Override external scripts
document.addEventListener('DOMContentLoaded', function () {
    console.log('DOM Content Loaded - Bank Dashboard System');

    // Global variables
    let isLoggedIn = false;
    let currentCompany = null;

    // DOM Elements
    const loginSection = document.getElementById('loginSection');
    const companyDashboard = document.getElementById('companyDashboard');
    const loginWrapper = document.getElementById('loginWrapper');
    const userWrapper = document.getElementById('userWrapper');
    const mobileLoginLinks = document.getElementById('mobileLoginLinks');
    const mobileUserLinks = document.getElementById('mobileUserLinks');
    const breadcrumbTitle = document.getElementById('breadcrumbTitle');

    console.log('DOM Elements found:');
    console.log('loginSection:', !!loginSection);
    console.log('companyDashboard:', !!companyDashboard);
    console.log('loginWrapper:', !!loginWrapper);
    console.log('userWrapper:', !!userWrapper);

    // Forms
    const signInForm = document.getElementById('company-sign-in');
    const signUpForm = document.getElementById('company-sign-up');

    // Password toggle functionality
    window.togglePassword = function(inputId) {
        const input = document.getElementById(inputId);
        const icon = input.nextElementSibling.nextElementSibling;

        if (input.type === 'password') {
            input.type = 'text';
            icon.src = 'https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/show-icon.svg';
        } else {
            input.type = 'password';
            icon.src = 'https://cdn.jsdelivr.net/gh/grumble-org/grumble-repo@latest/img/hide-icon.svg';
        }
    };

    // Password validation for sign-up form
    function validatePasswords() {
        const password = document.getElementById('signup-password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        const errorDiv = document.getElementById('confirm-password-constraints');

        if (password !== confirmPassword) {
            errorDiv.textContent = 'Şifrələr uyğun gəlmir';
            errorDiv.style.display = 'block';
            return false;
        } else {
            errorDiv.style.display = 'none';
            return true;
        }
    }

    // Password strength validation
    function validatePasswordStrength(password) {
        const errors = [];

        // At least 8 characters
        if (password.length < 8) {
            errors.push('Ən azı 8 simvol');
        }

        // Uppercase letter
        if (!/[A-Z]/.test(password)) {
            errors.push('Böyük hərf');
        }

        // Number
        if (!/[0-9]/.test(password)) {
            errors.push('Rəqəm');
        }

        // Special character
        if (!/[!@#$%^&*]/.test(password)) {
            errors.push('Xüsusi simvol (!@#$%^&*)');
        }

        return errors;
    }

    // Real-time password strength display
    function updatePasswordStrength() {
        const password = document.getElementById('signup-password').value;
        const strengthDiv = document.getElementById('signup-password-constraints');
        const errors = validatePasswordStrength(password);

        if (password.length === 0) {
            strengthDiv.innerHTML = '';
            strengthDiv.style.display = 'none';
            return;
        }

        let html = '<div style="margin-top: 8px; font-size: 0.8rem;">';

        // Check each requirement
        const requirements = [
            { test: password.length >= 8, text: 'Ən azı 8 simvol' },
            { test: /[A-Z]/.test(password), text: 'Böyük hərf' },
            { test: /[0-9]/.test(password), text: 'Rəqəm' },
            { test: /[!@#$%^&*]/.test(password), text: 'Xüsusi simvol (!@#$%^&*)' }
        ];

        requirements.forEach(req => {
            const icon = req.test ? '✓' : '✗';
            const color = req.test ? '#28a745' : '#dc3545';
            html += `<div style="color: ${color}; margin: 2px 0;">${icon} ${req.text}</div>`;
        });

        html += '</div>';
        strengthDiv.innerHTML = html;
        strengthDiv.style.display = 'block';
    }

    // Real-time password validation
    document.getElementById('confirm-password').addEventListener('input', validatePasswords);
    document.getElementById('signup-password').addEventListener('input', function() {
        updatePasswordStrength();
        validatePasswords();
    });

    // Bank login credentials for testing
    const BANK_CREDENTIALS = {
        'kapital@bank.az': {
            password: 'Kapital123!',
            name: 'Kapital Bank',
            logo: 'https://upload.wikimedia.org/wikipedia/commons/4/47/Kapital_Bank_logo.svg'
        },
        'pasha@bank.az': {
            password: 'Pasha123!',
            name: 'Pasha Bank',
            logo: 'https://www.pashabank.az/assets/images/logo.svg'
        },
        'bir@bank.az': {
            password: 'BirBank123!',
            name: 'BirBank',
            logo: 'https://www.kapitalbank.az/assets/images/birbank-logo.svg'
        }
    };

    // Sign-in form submission - Override any existing handlers
    if (signInForm) {
        console.log('Sign-in form found and event listener attached');

        // Remove any existing event listeners by cloning the form
        const newForm = signInForm.cloneNode(true);
        signInForm.parentNode.replaceChild(newForm, signInForm);

        // Add our event listener to the new form
        newForm.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Form submitted');

            const email = document.getElementById('company-sign-in-email').value;
            const password = document.getElementById('signin-password').value;
            console.log('Login attempt:', email, password);

            if (!email || !password) {
                alert('Zəhmət olmasa bütün sahələri doldurun.');
                return;
            }

            // Check bank credentials
            console.log('Checking credentials against:', BANK_CREDENTIALS);
            if (BANK_CREDENTIALS[email] && BANK_CREDENTIALS[email].password === password) {
                console.log('Credentials match! Logging in...');
                // Successful bank login
                currentCompany = {
                    name: BANK_CREDENTIALS[email].name,
                    email: email,
                    logo: BANK_CREDENTIALS[email].logo,
                    category: 'Bank'
                };

                console.log('Current company set:', currentCompany);
                showDashboard();
                alert('Uğurla daxil oldunuz!');
            } else {
                console.log('Credentials do not match');
                alert('Yanlış email və ya şifrə. Zəhmət olmasa yenidən cəhd edin.');
                document.getElementById('signin-password').value = '';
            }
        });
    } else {
        console.log('Sign-in form NOT found!');
    }

    // Sign-up form submission
    if (signUpForm) {
        signUpForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = {
                firstName: document.getElementById('firstname').value,
                lastName: document.getElementById('lastname').value,
                companyName: document.getElementById('company-name').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('signup-email').value,
                password: document.getElementById('signup-password').value,
                confirmPassword: document.getElementById('confirm-password').value
            };

            // Validate form
            if (!formData.firstName || !formData.lastName || !formData.companyName ||
                !formData.phone || !formData.email || !formData.password || !formData.confirmPassword) {
                alert('Zəhmət olmasa bütün sahələri doldurun.');
                return;
            }

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(formData.email)) {
                alert('Zəhmət olmasa düzgün email daxil edin.');
                return;
            }

            // Phone validation
            const phoneRegex = /^\d{9}$/;
            if (!phoneRegex.test(formData.phone)) {
                alert('Zəhmət olmasa düzgün telefon nömrəsi daxil edin (9 rəqəm).');
                return;
            }

            // Password validation
            if (!validatePasswords()) {
                return;
            }

            // Password strength validation
            const passwordErrors = validatePasswordStrength(formData.password);
            if (passwordErrors.length > 0) {
                alert('Şifrə aşağıdakı tələbləri qarşılamalıdır:\n• ' + passwordErrors.join('\n• '));
                return;
            }

            // Simulate registration
            console.log('Registration data:', formData);

            // Mock successful registration
            currentCompany = {
                name: formData.companyName,
                email: formData.email,
                category: 'Company'
            };

            // Store company data in localStorage for the dashboard
            localStorage.setItem('companyData', JSON.stringify({
                name: formData.companyName,
                email: formData.email,
                firstName: formData.firstName,
                lastName: formData.lastName,
                phone: formData.phone
            }));

            alert(`Təşəkkür edirik, ${formData.firstName}! ${formData.companyName} şirkəti üçün qeydiyyat tamamlandı.`);

            // Redirect to company dashboard
            window.location.href = 'company-dashboard.html';
        });
    }

    // Show dashboard after login/registration
    function showDashboard() {
        console.log('showDashboard called');
        isLoggedIn = true;

        // Hide login section, show dashboard
        console.log('Hiding login section, showing dashboard');
        if (loginSection) {
            loginSection.style.display = 'none';
            console.log('Login section hidden');
        }
        if (companyDashboard) {
            companyDashboard.classList.add('active');
            console.log('Dashboard activated');
        }

        // Update header
        if (loginWrapper) loginWrapper.style.display = 'none';
        if (userWrapper) userWrapper.style.display = 'flex';

        // Update mobile menu
        if (mobileLoginLinks) mobileLoginLinks.style.display = 'none';
        if (mobileUserLinks) mobileUserLinks.style.display = 'block';

        // Update breadcrumb
        if (breadcrumbTitle) breadcrumbTitle.textContent = 'Şirkət Paneli';

        // Update company name displays
        const companyNameEl = document.getElementById('companyNameDisplay');
        const welcomeNameEl = document.getElementById('welcomeCompanyName');
        const mobileNameEl = document.getElementById('mobileCompanyName');

        if (companyNameEl) companyNameEl.textContent = currentCompany.name;
        if (welcomeNameEl) welcomeNameEl.textContent = currentCompany.name;
        if (mobileNameEl) mobileNameEl.textContent = currentCompany.name;

        // Update bank dashboard specific elements
        const bankNameEl = document.getElementById('bankName');
        const bankLogoEl = document.getElementById('bankLogo');

        if (bankNameEl) {
            bankNameEl.textContent = currentCompany.name;
            console.log('Bank name updated:', currentCompany.name);
        }
        if (bankLogoEl && currentCompany.logo) {
            bankLogoEl.src = currentCompany.logo;
            bankLogoEl.alt = currentCompany.name;
            console.log('Bank logo updated:', currentCompany.logo);
        }

        // Initialize bank dashboard functionality
        console.log('Initializing bank dashboard');
        initializeBankDashboard();
        console.log('Dashboard initialization complete');
    }

    // Logout functionality
    function logout() {
        if (confirm('Çıxış etmək istədiyinizə əminsiniz?')) {
            isLoggedIn = false;
            currentCompany = null;

            // Show login section, hide dashboard
            loginSection.style.display = 'block';
            companyDashboard.classList.remove('active');

            // Update header
            loginWrapper.style.display = 'flex';
            userWrapper.style.display = 'none';

            // Update mobile menu
            mobileLoginLinks.style.display = 'block';
            mobileUserLinks.style.display = 'none';

            // Update breadcrumb
            breadcrumbTitle.textContent = 'Şirkətlər üçün';

            // Reset forms
            if (signInForm) signInForm.reset();
            if (signUpForm) signUpForm.reset();

            alert('Çıxış edildi.');
        }
    }

    // Logout button events
    document.getElementById('logoutBtn').addEventListener('click', function(e) {
        e.preventDefault();
        logout();
    });

    document.getElementById('logoutBtnMain').addEventListener('click', function(e) {
        e.preventDefault();
        logout();
    });

    // Initialize Bank Dashboard functionality
    function initializeBankDashboard() {
        console.log('initializeBankDashboard called');

        // Tab functionality for reviews
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        console.log('Found tab buttons:', tabBtns.length);
        console.log('Found tab contents:', tabContents.length);

        tabBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                console.log('Tab clicked:', tabName);

                // Remove active class from all tabs and contents
                tabBtns.forEach(b => b.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));

                // Add active class to clicked tab and corresponding content
                this.classList.add('active');
                const targetTab = document.getElementById(tabName + '-tab');
                if (targetTab) {
                    targetTab.classList.add('active');
                    console.log('Tab activated:', tabName);
                } else {
                    console.log('Target tab not found:', tabName + '-tab');
                }
            });
        });

        // Initialize star ratings
        const starContainers = document.querySelectorAll('.stars[data-rating]');
        console.log('Found star containers:', starContainers.length);

        starContainers.forEach(starsContainer => {
            const rating = parseFloat(starsContainer.getAttribute('data-rating'));
            updateStarRating(starsContainer, rating);
        });

        console.log('Bank dashboard initialization complete');
    }

    // Global functions for review actions
    window.openReplyModal = function(reviewId) {
        const replyText = prompt('Müştəriyə cavabınızı yazın:');
        if (replyText && replyText.trim()) {
            alert('Cavabınız göndərildi və müştəriyə bildiriş göndərildi.');
            console.log('Reply sent for review', reviewId, ':', replyText);
            // In a real app, this would send the reply to the server
        }
    };

    window.viewReviewDetails = function(reviewId) {
        alert('Rəy detalları səhifəsinə yönləndirilirsiniz...');
        console.log('View details for review', reviewId);
        // In a real app, this would navigate to review details page
    };

    // Update star rating display
    function updateStarRating(starsContainer, rating) {
        const stars = starsContainer.querySelectorAll('.star');
        const fullStars = Math.floor(rating);

        stars.forEach((star, index) => {
            if (index < fullStars) {
                star.className = 'fas fa-star star';
            } else {
                star.className = 'far fa-star star empty';
            }
        });
    }

    // Handle bank login directly
    window.handleBankLogin = function(event) {
        if (event) {
            event.preventDefault();
            event.stopPropagation();
        }

        console.log('Bank login button clicked');

        const email = document.getElementById('company-sign-in-email').value;
        const password = document.getElementById('signin-password').value;

        console.log('Login attempt:', email, password);

        if (!email || !password) {
            alert('Zəhmət olmasa bütün sahələri doldurun.');
            return false;
        }

        // Check bank credentials
        console.log('Checking credentials against:', BANK_CREDENTIALS);
        if (BANK_CREDENTIALS[email] && BANK_CREDENTIALS[email].password === password) {
            console.log('Credentials match! Logging in...');
            // Successful bank login
            currentCompany = {
                name: BANK_CREDENTIALS[email].name,
                email: email,
                logo: BANK_CREDENTIALS[email].logo,
                category: 'Bank'
            };

            console.log('Current company set:', currentCompany);
            showDashboard();
            alert('Uğurla daxil oldunuz!');
            return true;
        } else {
            console.log('Credentials do not match');
            alert('Yanlış email və ya şifrə. Zəhmət olmasa yenidən cəhd edin.');
            document.getElementById('signin-password').value = '';
            return false;
        }
    };

    // Test function for debugging
    window.testBankLogin = function() {
        console.log('Test bank login triggered');
        currentCompany = {
            name: 'Kapital Bank',
            email: 'kapital@bank.az',
            logo: 'https://upload.wikimedia.org/wikipedia/commons/4/47/Kapital_Bank_logo.svg',
            category: 'Bank'
        };
        console.log('Test company set:', currentCompany);
        showDashboard();
    };

    // Test company registration function
    window.testCompanyRegistration = function() {
        console.log('Test company registration triggered');

        // Store test company data
        const testCompanyData = {
            name: 'Test Şirkəti',
            email: 'test@company.az',
            firstName: 'Əli',
            lastName: 'Məmmədov',
            phone: '501234567'
        };

        localStorage.setItem('companyData', JSON.stringify(testCompanyData));

        alert('Test şirkəti qeydiyyatdan keçdi! Şirkət panelinə yönləndirilirsiniz...');

        // Redirect to company dashboard
        window.location.href = 'company-dashboard.html';
    };

    // User profile dropdown toggle
    const userProfileBtn = document.getElementById('userProfileBtn');
    const userDropdown = document.getElementById('userDropdown');

    if (userProfileBtn && userDropdown) {
        userProfileBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            userDropdown.style.display = userDropdown.style.display === 'none' ? 'block' : 'none';
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function() {
            userDropdown.style.display = 'none';
        });
    }

    // Category filtering
    const categoryItems = document.querySelectorAll('.categories .result');
    const companyWrappers = document.querySelectorAll('.company-wrapper');

    categoryItems.forEach(item => {
        item.addEventListener('click', function() {
            // Remove active class from all categories
            categoryItems.forEach(cat => cat.classList.remove('active'));
            // Add active class to clicked category
            this.classList.add('active');

            const selectedCategory = this.getAttribute('data-category');

            // Filter companies
            companyWrappers.forEach(wrapper => {
                if (selectedCategory === 'all' || wrapper.getAttribute('data-category') === selectedCategory) {
                    wrapper.style.display = 'block';
                } else {
                    wrapper.style.display = 'none';
                }
            });
        });
    });

    // Sorting functionality
    const sortSelect = document.getElementById('sortBy');
    if (sortSelect) {
        sortSelect.addEventListener('change', function() {
            const sortBy = this.value;
            const companyList = document.getElementById('companyList');
            const companies = Array.from(companyList.children);

            companies.sort((a, b) => {
                switch(sortBy) {
                    case 'companyRating':
                        const ratingA = parseFloat(a.querySelector('.star-rating__result span').textContent);
                        const ratingB = parseFloat(b.querySelector('.star-rating__result span').textContent);
                        return ratingB - ratingA;
                    case 'mostReviewed':
                        const reviewsA = parseInt(a.querySelector('.company-stats').textContent.match(/\d+/)[0]);
                        const reviewsB = parseInt(b.querySelector('.company-stats').textContent.match(/\d+/)[0]);
                        return reviewsB - reviewsA;
                    case 'lastReviewed':
                    case 'mostViewed':
                    default:
                        // For demo purposes, sort alphabetically
                        const nameA = a.querySelector('.company-name h5').textContent;
                        const nameB = b.querySelector('.company-name h5').textContent;
                        return nameA.localeCompare(nameB);
                }
            });

            // Re-append sorted companies
            companies.forEach(company => companyList.appendChild(company));
        });
    }

    // Search functionality
    const searchInput = document.getElementById('search-input');
    const searchForm = document.getElementById('search_form');

    if (searchForm) {
        searchForm.addEventListener('submit', function(e) {
            e.preventDefault();
            performSearch();
        });
    }

    if (searchInput) {
        searchInput.addEventListener('input', function() {
            performSearch();
        });
    }

    function performSearch() {
        const searchTerm = searchInput.value.toLowerCase().trim();

        companyWrappers.forEach(wrapper => {
            const companyName = wrapper.querySelector('.company-name h5').textContent.toLowerCase();
            const companyCategory = wrapper.querySelector('.company-title').textContent.toLowerCase();

            if (searchTerm === '' || companyName.includes(searchTerm) || companyCategory.includes(searchTerm)) {
                wrapper.style.display = 'block';
            } else {
                wrapper.style.display = 'none';
            }
        });
    }

    // Dynamic star rating display
    function updateStarRating(starsContainer, rating) {
        const stars = starsContainer.querySelectorAll('.star');
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 !== 0;

        stars.forEach((star, index) => {
            if (index < fullStars) {
                star.className = 'fas fa-star star';
            } else if (index === fullStars && hasHalfStar) {
                star.className = 'fas fa-star-half-alt star';
            } else {
                star.className = 'far fa-star star empty';
            }
        });
    }

    // Initialize star ratings
    document.querySelectorAll('.stars[data-rating]').forEach(starsContainer => {
        const rating = parseFloat(starsContainer.getAttribute('data-rating'));
        updateStarRating(starsContainer, rating);
    });

    // Write review button functionality
    const writeReviewBtn = document.getElementById('write-review-btn');
    if (writeReviewBtn) {
        writeReviewBtn.addEventListener('click', function() {
            alert('Rəy yazma səhifəsinə yönləndirilirsiniz...');
            console.log('Navigate to write review page');
        });
    }

    // Mobile menu toggle (basic implementation)
    const hamMenu = document.querySelector('.ham-menu');
    const mobileMenu = document.querySelector('.mobile-menu-wrapper');

    if (hamMenu && mobileMenu) {
        hamMenu.addEventListener('click', function() {
            mobileMenu.style.display = mobileMenu.style.display === 'block' ? 'none' : 'block';
        });
    }

    // Language selection
    const langSelection = document.querySelector('.language_selection');
    if (langSelection) {
        const langTitle = langSelection.querySelector('.title');
        const langBody = langSelection.querySelector('.lang_body');
        const langLinks = langBody.querySelectorAll('a');

        langLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const selectedLang = this.textContent;
                langTitle.textContent = selectedLang;
                console.log('Language changed to:', selectedLang);
            });
        });
    }

    // Utility functions
    function getCsrfToken() {
        const token = document.querySelector('[name=csrfmiddlewaretoken]');
        return token ? token.value : '';
    }

    // Check for login from standalone page
    const urlParams = new URLSearchParams(window.location.search);
    const loginType = urlParams.get('login');

    if (loginType === 'bank') {
        const bankLogin = localStorage.getItem('bankLogin');
        if (bankLogin) {
            const bankData = JSON.parse(bankLogin);
            currentCompany = bankData;
            console.log('Auto-login from standalone page:', bankData);
            showDashboard();
            // Clear the URL parameter
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    }

    // Initialize page
    console.log('Grumble Company Portal initialized');

    // Handle credential response for Google One Tap (if implemented)
    window.handleCredentialResponse = function(response) {
        fetch('/user/google/one-tap/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': getCsrfToken()
            },
            body: JSON.stringify({
                'credential': response.credential
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                window.location.href = data.redirect_url;
            } else {
                console.error('Login failed:', data.error);
            }
        });
    };

    function getCsrfToken() {
        const token = document.querySelector('[name=csrfmiddlewaretoken]');
        return token ? token.value : '';
    }

}); // End DOMContentLoaded
</script>

<!-- Override external scripts completely -->
<script>
// Wait for all scripts to load, then override
setTimeout(function() {
    console.log('Overriding external login handlers...');

    // Find and override any form submission
    const forms = document.querySelectorAll('form');
    forms.forEach(form => {
        if (form.id === 'company-sign-in') {
            // Remove all event listeners
            const newForm = form.cloneNode(true);
            form.parentNode.replaceChild(newForm, form);

            // Add our custom handler
            newForm.addEventListener('submit', function(e) {
                e.preventDefault();
                e.stopImmediatePropagation();
                console.log('External form submission blocked');
                handleBankLogin(e);
                return false;
            });

            console.log('Form handlers successfully overridden');
        }
    });

    // Override any global login functions
    if (window.submitCompanyLogin) {
        window.submitCompanyLogin = function() {
            console.log('External login function overridden');
            return handleBankLogin();
        };
    }

    console.log('External script override complete');
}, 1000);

// Alternative direct login function
window.directBankLogin = function() {
    console.log('Direct bank login called');
    const email = document.getElementById('company-sign-in-email').value;
    const password = document.getElementById('signin-password').value;

    if (!email || !password) {
        alert('Zəhmət olmasa email və şifrə daxil edin.');
        return;
    }

    // Check credentials
    const BANK_CREDS = {
        'kapital@bank.az': { password: 'Kapital123!', name: 'Kapital Bank' },
        'pasha@bank.az': { password: 'Pasha123!', name: 'Pasha Bank' },
        'bir@bank.az': { password: 'BirBank123!', name: 'BirBank' }
    };

    if (BANK_CREDS[email] && BANK_CREDS[email].password === password) {
        alert('Uğurla daxil oldunuz! Dashboard-a yönləndirilirsiniz...');
        // Store login data
        localStorage.setItem('bankLogin', JSON.stringify({
            name: BANK_CREDS[email].name,
            email: email
        }));
        // Redirect or show dashboard
        window.location.reload();
    } else {
        alert('Yanlış məlumatlar. Test hesablarından istifadə edin.');
    }
};
</script>

</body>
</html>
