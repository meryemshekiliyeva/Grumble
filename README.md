<<<<<<< HEAD
# Grumble - ≈ûikay…ôt Platformasƒ±

Grumble, m√º≈üt…ôril…ôrin ≈üirk…ôtl…ôr…ô qar≈üƒ± ≈üikay…ôtl…ôrini bildir…ô bil…ôc…ôkl…ôri v…ô ≈üirk…ôtl…ôrin bu ≈üikay…ôtl…ôri idar…ô ed…ô bil…ôc…ôkl…ôri bir platformadƒ±r.

## üöÄ X√ºsusiyy…ôtl…ôr

- **ƒ∞stifad…ô√ßi Qeydiyyatƒ± v…ô Giri≈üi**: M√º≈üt…ôril…ôr hesab yarada v…ô giri≈ü ed…ô bil…ôrl…ôr
- **≈ûirk…ôt Qeydiyyatƒ± v…ô Bank Dashboard**: ≈ûirk…ôtl…ôr qeydiyyatdan ke√ß…ô v…ô ≈üikay…ôtl…ôri idar…ô ed…ô bil…ôrl…ôr
- **≈ûikay…ôt Sistemi**: M√º≈üt…ôril…ôr ≈üikay…ôtl…ôrini bildirib izl…ôy…ô bil…ôrl…ôr
- **Kateqoriya Sistemi**: ≈ûikay…ôtl…ôr kateqoriyalara ayrƒ±lƒ±r
- **AI Chat K√∂m…ôk√ßisi**: M√º≈üt…ôril…ôr…ô k√∂m…ôk √º√ß√ºn AI k√∂m…ôk√ßisi

## üè¶ Bank Dashboard Sistemi

### Test Hesablarƒ± (Bank Giri≈üi):
- **Kapital Bank**: `kapital@bank.az` / `Kapital123!`
- **Pasha Bank**: `pasha@bank.az` / `Pasha123!`
- **BirBank**: `bir@bank.az` / `BirBank123!`

### ≈ûirk…ôt Qeydiyyatƒ±:
1. `/register` s…ôhif…ôsind…ô "≈ûirk…ôt Qeydiyyatƒ±" tabƒ±nƒ± se√ßin
2. ≈ûirk…ôt m…ôlumatlarƒ±nƒ± doldurun
3. Qeydiyyatdan sonra giri≈ü ≈üifr…ôsi: `Company123!`
4. `/login` s…ôhif…ôsind…ô "≈ûirk…ôt Giri≈üi" tabƒ± il…ô daxil olun

### Bank Dashboard X√ºsusiyy…ôtl…ôri:
- **≈ûikay…ôt ƒ∞dar…ôetm…ôsi**: B√ºt√ºn ≈üikay…ôtl…ôri g√∂r√ºn v…ô statusunu d…ôyi≈üin
- **Statistikalar**: √úmumi, g√∂zl…ôy…ôn, h…ôll edilmi≈ü ≈üikay…ôtl…ôr
- **Cavab Nisb…ôti**: ≈ûirk…ôtin performans g√∂st…ôricisi
- **Real-time Yenil…ônm…ô**: Statuslar d…ôrhal yenil…ônir
- **R…ôy Cavablandƒ±rma**: M√º≈üt…ôri r…ôyl…ôrin…ô cavab verin
- **Avtomatik Status D…ôyi≈üikliyi**: Cavab verildikd…ô status avtomatik "cavablandƒ±rƒ±ldƒ±"ya √ßevrilir

### ≈ûirk…ôt Profil Sistemi:
- **≈ûirk…ôt Profil Dropdown**: Giri≈ü ed…ôn ≈üirk…ôtl…ôr √º√ß√ºn x√ºsusi profil menyusu
- **≈ûirk…ôt Profil S…ôhif…ôsi**: Tam funksional ≈üirk…ôt profil idar…ôetm…ôsi
- **R…ôy ƒ∞dar…ôetm…ôsi**: G√∂zl…ôy…ôn, cavablandƒ±rƒ±lmƒ±≈ü r…ôyl…ôri g√∂r√ºn v…ô idar…ô edin
- **Statistika Dashboard**: R…ôy statistikalarƒ± v…ô performans g√∂st…ôricil…ôri
- **M√º≈üt…ôri R…ôyl…ôrin…ô Cavab**: R…ôyl…ôr…ô cavab verib m√º≈üt…ôri m…ômnuniyy…ôtini artƒ±rƒ±n

## üõ†Ô∏è Qura≈üdƒ±rma

```bash
# Layih…ôni klonlayƒ±n
git clone <repository-url>

# Asƒ±lƒ±lƒ±qlarƒ± qura≈üdƒ±rƒ±n
npm install

# Development serveri ba≈üladƒ±n
npm run dev

# Production build
npm run build
```

## üì± ƒ∞stifad…ô

1. **Ana s…ôhif…ô**: http://localhost:5177/
2. **ƒ∞stifad…ô√ßi qeydiyyatƒ±**: http://localhost:5177/register
3. **≈ûirk…ôt qeydiyyatƒ±**: http://localhost:5177/register?type=company
4. **Giri≈ü**: http://localhost:5177/login
5. **Bank Dashboard**: http://localhost:5177/bank-dashboard (giri≈ü sonrasƒ±)
6. **≈ûirk…ôt Profili**: http://localhost:5177/company-profile (≈üirk…ôt giri≈üi sonrasƒ±)
7. **≈ûirk…ôt S…ôhif…ôsi**: http://localhost:5177/companies/kapital-bank (r…ôy v…ô cavab sistemi)

## üîß Texnologiyalar

- **Frontend**: React 18, Vite, Tailwind CSS
- **Routing**: React Router DOM
- **State Management**: Context API
- **Icons**: Heroicons, Font Awesome
- **Styling**: Tailwind CSS

## üìù Qeydl…ôr

- Bu demo versiyasƒ±dƒ±r v…ô m…ôlumatlar localStorage-d…ô saxlanƒ±lƒ±r
- Production √º√ß√ºn backend API inteqrasiyasƒ± lazƒ±mdƒ±r
- B√ºt√ºn ≈üifr…ôl…ôr demo m…ôqs…ôdl…ôri √º√ß√ºnd√ºr

## üÜï Yeni X√ºsusiyy…ôtl…ôr

### ≈ûirk…ôt Giri≈ü Sistemi:
- ≈ûirk…ôt kimi giri≈ü ed…ônd…ô header-d…ô "Profilim" yerin…ô ≈üirk…ôt profili g√∂r√ºn√ºr
- ≈ûirk…ôt dropdown menyusunda x√ºsusi se√ßiml…ôr: ≈ûirk…ôt Profili, ≈ûikay…ôtl…ôr, R…ôyl…ôr, Statistikalar
- "Yeni ≈ûikay…ôt" d√ºym…ôsi yerin…ô "Dashboard" d√ºym…ôsi g√∂r√ºn√ºr

### R…ôy v…ô Cavab Sistemi:
- M√º≈üt…ôril…ôr ≈üirk…ôt s…ôhif…ôl…ôrind…ô r…ôy yaza bil…ôrl…ôr
- ≈ûirk…ôtl…ôr bank dashboard-dan r…ôyl…ôr…ô cavab ver…ô bil…ôrl…ôr
- Cavab verildikd…ô r…ôyin statusu avtomatik "g√∂zl…ôyir"d…ôn "cavablandƒ±rƒ±ldƒ±"ya √ßevrilir
- ≈ûirk…ôt profil s…ôhif…ôsind…ô r…ôyl…ôri kateqoriyalara ayƒ±raraq g√∂r…ô bil…ôrl…ôr

### Avtomatik Status ƒ∞dar…ôetm…ôsi:
- ≈ûirk…ôt r…ôy…ô cavab verdikd…ô h…ôm dashboard-da h…ôm d…ô ≈üirk…ôt s…ôhif…ôsind…ô status yenil…ônir
- Real-time statistika hesablamalarƒ±
- M√º≈üt…ôri m…ômnuniyy…ôti izl…ôm…ô sistemi

## üîß H…ôll Edilmi≈ü Probleml…ôr

### Logout/Login Probleml…ôri:
- **Problem**: ≈ûirk…ôt hesabƒ±ndan √ßƒ±xƒ±≈ü ed…ônd…ô ikinci d…ôf…ô giri≈ü zamanƒ± f…ôrqli s…ôhif…ô a√ßƒ±lƒ±rdƒ±
- **H…ôll**: AuthContext-d…ô d√ºzg√ºn logout idar…ôetm…ôsi …ôlav…ô edildi
- **N…ôtic…ô**: ƒ∞ndi ≈üirk…ôt logout/login d√∂vr√º d√ºzg√ºn i≈ül…ôyir

### Authentication State Probleml…ôri:
- **Problem**: Logout sonrasƒ± authentication state d√ºzg√ºn t…ômizl…ônmirdi
- **H…ôll**: B√ºt√ºn localStorage m…ôlumatlarƒ± v…ô state d√ºzg√ºn t…ômizl…ônir
- **N…ôtic…ô**: Logout sonrasƒ± t…ômiz giri≈ü t…ôcr√ºb…ôsi

### Navigation Probleml…ôri:
- **Problem**: ≈ûirk…ôt giri≈üi sonrasƒ± yanlƒ±≈ü s…ôhif…ôy…ô y√∂nl…ôndirm…ô
- **H…ôll**: Login.jsx-d…ô d√ºzg√ºn y√∂nl…ôndirm…ô m…ôntiqƒ± …ôlav…ô edildi
- **N…ôtic…ô**: ≈ûirk…ôtl…ôr avtomatik bank dashboard-a y√∂nl…ôndirilir

### Loading State Probleml…ôri:
- **Problem**: Authentication y√ºkl…ônm…ôsi zamanƒ± vaxtƒ±ndan …ôvv…ôl y√∂nl…ôndirm…ô
- **H…ôll**: Loading state-l…ôr d√ºzg√ºn idar…ô edilir
- **N…ôtic…ô**: S…ôhif…ôl…ôr d√ºzg√ºn y√ºkl…ônir v…ô y√∂nl…ôndirm…ô edilir
=======
# Grumble - Complaint Management System

Grumble is a comprehensive complaint management platform that allows users to submit complaints about companies and enables companies to respond to and resolve customer issues.

## Features

### User Authentication
- **Individual User Registration**: Email verification required
- **Company Registration**: Separate registration flow for businesses
- **OAuth Integration**: Google and Facebook login support
- **Password Recovery**: Secure password reset via email
- **Role-Based Access**: Users, companies, and admin roles
- **Security**: Rate limiting, CSRF protection, password hashing

### Core Functionality
- **Complaint Submission**: Users can file complaints with ratings and attachments
- **Company Responses**: Companies can respond to complaints
- **Real-time Notifications**: Email notifications for updates
- **Comment System**: Public discussion on complaints
- **Rating System**: Star-based company ratings
- **Search & Filter**: Advanced complaint filtering

## Tech Stack

### Backend
- **Node.js** with Express.js
- **MongoDB** with Mongoose ODM
- **JWT** for authentication
- **Passport.js** for OAuth (Google/Facebook)
- **Nodemailer** for email services
- **Helmet** for security headers
- **Rate limiting** for API protection

### Frontend
- **React** with React Router
- **Tailwind CSS** for styling
- **Context API** for state management
- **Responsive design** for all devices

## Installation & Setup

### Prerequisites
- Node.js (v16 or higher)
- MongoDB (v4.4 or higher)
- Gmail account or SMTP service for emails

### Backend Setup

1. **Clone the repository**
```bash
git clone <repository-url>
cd grumble/backend
```

2. **Install dependencies**
```bash
npm install
```

3. **Environment Configuration**
```bash
cp .env.example .env
```

Edit `.env` file with your configuration:

```env
# Database
MONGODB_URI=mongodb://localhost:27017/grumble

# JWT
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRE=7d

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# OAuth Credentials
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
```

4. **Start MongoDB**
```bash
# On macOS with Homebrew
brew services start mongodb-community

# On Ubuntu
sudo systemctl start mongod

# On Windows
net start MongoDB
```

5. **Run the backend**
```bash
npm run dev
```

### Frontend Setup

1. **Navigate to frontend directory**
```bash
cd ../src
```

2. **Install dependencies**
```bash
npm install
```

3. **Start the development server**
```bash
npm run dev
```

The application will be available at `http://localhost:5173`

## OAuth Setup

### Google OAuth Setup

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project or select existing one
3. Enable Google+ API
4. Go to "Credentials" ‚Üí "Create Credentials" ‚Üí "OAuth 2.0 Client IDs"
5. Set authorized redirect URIs:
   - `http://localhost:5000/api/auth/google/callback` (development)
   - `https://yourdomain.com/api/auth/google/callback` (production)
6. Copy Client ID and Client Secret to your `.env` file

### Facebook OAuth Setup

1. Go to [Facebook Developers](https://developers.facebook.com/)
2. Create a new app
3. Add "Facebook Login" product
4. Set Valid OAuth Redirect URIs:
   - `http://localhost:5000/api/auth/facebook/callback` (development)
   - `https://yourdomain.com/api/auth/facebook/callback` (production)
5. Copy App ID and App Secret to your `.env` file

## Email Configuration

### Gmail Setup (Recommended for development)

1. Enable 2-Factor Authentication on your Gmail account
2. Generate an App Password:
   - Go to Google Account settings
   - Security ‚Üí 2-Step Verification ‚Üí App passwords
   - Generate password for "Mail"
3. Use your Gmail address as `SMTP_USER` and the app password as `SMTP_PASS`

### SendGrid Setup (Recommended for production)

1. Sign up at [SendGrid](https://sendgrid.com/)
2. Create an API key
3. Update your `.env`:
```env
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key
```

## Testing

### Backend Testing
```bash
cd backend
npm test
```

### Frontend Testing
```bash
cd frontend
npm test
```

### API Testing with Postman

Import the Postman collection from `docs/postman-collection.json` to test all API endpoints.

## Security Features

- **Password Hashing**: bcrypt with salt rounds
- **JWT Tokens**: Secure token-based authentication
- **Rate Limiting**: Prevents brute force attacks
- **CORS Protection**: Configured for specific origins
- **Helmet**: Security headers
- **Input Validation**: Server-side validation for all inputs
- **SQL Injection Protection**: MongoDB with Mongoose
- **XSS Protection**: Input sanitization

## API Documentation

### Authentication Endpoints

- `POST /api/auth/register/user` - User registration
- `POST /api/auth/register/company` - Company registration
- `POST /api/auth/login/user` - User login
- `POST /api/auth/login/company` - Company login
- `POST /api/auth/verify-email` - Email verification
- `POST /api/auth/forgot-password` - Password reset request
- `POST /api/auth/reset-password` - Password reset
- `GET /api/auth/google` - Google OAuth
- `GET /api/auth/facebook` - Facebook OAuth

### Complaint Endpoints

- `GET /api/complaints` - Get all complaints
- `POST /api/complaints` - Create complaint
- `GET /api/complaints/:id` - Get single complaint
- `PUT /api/complaints/:id` - Update complaint
- `DELETE /api/complaints/:id` - Delete complaint

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests
5. Submit a pull request

## License

This project is licensed under the MIT License.

## Support

For support, email support@grumble.az or create an issue in the repository.
>>>>>>> 8eb8c6f1099cb78da5c5230ba820f2fdc011a065
